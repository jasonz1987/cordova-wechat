<!DOCTYPE html>

<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  

  <title>FAQ - cordova-wechat</title>
  <link rel="stylesheet" href="https://jasonz1987.github.io/cordova-wechat-docs/assets/css/just-the-docs.css">

  
    <script>
      window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
      ga('create', 'UA-136581169-1', 'https://jasonz1987.github.io');
      ga('send', 'pageview');
    </script>
    <script async src="https://www.google-analytics.com/analytics.js"></script>
  

  
    <script type="text/javascript" src="https://jasonz1987.github.io/cordova-wechat-docs/assets/js/vendor/lunr.min.js"></script>
  
  <script type="text/javascript" src="https://jasonz1987.github.io/cordova-wechat-docs/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>

  <div class="page-wrap">
    <div class="side-bar">
      <a href="https://jasonz1987.github.io/cordova-wechat-docs" class="site-title fs-6 lh-tight">cordova-wechat</a>
      <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button" data-text-toggle="Hide">Menu</button></span>
      <div class="navigation main-nav js-main-nav">
        <nav role="navigation" aria-label="Main navigation">
  <ul class="navigation-list">
    
    
      
        
          <li class="navigation-list-item active">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/404.html" class="navigation-list-link"></a>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/" class="navigation-list-link">首页</a>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/get-started" class="navigation-list-link">开始使用</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/get-started/install.html" class="navigation-list-link">安装</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/get-started/invoking.html" class="navigation-list-link">调用</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/usages" class="navigation-list-link">使用方法</a>
            
              
              <ul class="navigation-list-child-list ">
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/usages/check.html" class="navigation-list-link">检查是否安装</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/usages/share.html" class="navigation-list-link">分享</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/usages/auth.html" class="navigation-list-link">登录</a>
                      
                    </li>
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/usages/payment.html" class="navigation-list-link">支付</a>
                      
                    </li>
                  
                
                  
                
                  
                
                  
                    <li class="navigation-list-item ">
                      
                      <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/usages/open-mini.html" class="navigation-list-link">打开微信小程序</a>
                      
                    </li>
                  
                
                  
                
              </ul>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/totorial" class="navigation-list-link">教程</a>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item active">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/faq" class="navigation-list-link active">FAQ</a>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/demo" class="navigation-list-link">DEMO</a>
            
          </li>
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/donate" class="navigation-list-link">捐赠</a>
            
          </li>
        
      
    
      
        
      
    
      
        
          <li class="navigation-list-item">
            
            <a href="https://jasonz1987.github.io/cordova-wechat-docs/docs/thanks" class="navigation-list-link">鸣谢</a>
            
          </li>
        
      
    
  </ul>
</nav>

      </div>
      <footer role="contentinfo" class="site-footer">
        <p class="text-small text-grey-dk-000 mb-0">This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</p>
      </footer>
    </div>
    <div class="main-content-wrap js-main-content" tabindex="0">
      <div class="page-header">
        <div class="main-content">
          
          <div class="search js-search">
            <div class="search-input-wrap">
              <input type="text" class="js-search-input search-input" tabindex="0" placeholder="Search cordova-wechat" aria-label="Search cordova-wechat" autocomplete="off">
              <svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg" class="search-icon"><title>Search</title><g fill-rule="nonzero"><path d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z"/><path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z"/></g></svg>
            </div>
            <div class="js-search-results search-results-wrap"></div>
          </div>
          
          
        </div>
      </div>
      <div class="main-content">
        
          
        
        <div id="main-content" class="page-content" role="main">
          <h1 id="faq">FAQ</h1>

<h2 id="为什么插件的登录方法不能获取到用户的昵称和头像">为什么插件的登录方法不能获取到用户的昵称和头像？</h2>

<p>微信的移动端登录是基于oauth2.0标准，是需要客户端和服务端来共同实现的，在整个流程里客户端的<code class="highlighter-rouge">auth</code>方法只是用来返回用户的<code class="highlighter-rouge">code</code>,然后把获取到的<code class="highlighter-rouge">code</code>通过调用微信的接口获取到access_token，再通过获取用户资料的接口获取到用户的资料。因为请求接口的时候需要传入应用的<code class="highlighter-rouge">app secret</code>,为了应用的安全，因此后面2步我们强烈不建议在客户端实现。</p>

<h2 id="此插件和socialsharing-phonegap-plugin有什么不同">此插件和SocialSharing-PhoneGap-Plugin有什么不同？</h2>

<p><code class="highlighter-rouge">SocialSharing-PhoneGap-Plugin</code>调用的是系统级的分享接口，他支持的平台更多，但是功能有限。而我们的插件使用的是微信官方的sdk，所以在功能上和微信原生的sdk功能是一致的，功能会更加全面。</p>

<h2 id="运行的时候提示微信签名不一致">运行的时候提示”微信签名不一致”</h2>

<p>确认微信的apk签名与开放平台填写的一致，可以通过<a href="https://res.wx.qq.com/open/zh_CN/htmledition/res/dev/download/sdk/Gen_Signature_Android2.apk">签名生成工具</a>获取签名。</p>

<p>另外ionic默认debug模式下运行的apk与正式打包出来签名的apk签名是不一致的。</p>

<h2 id="微信支付的时候提示普通错误">微信支付的时候提示”普通错误”</h2>

<p>1）确保apk的签名与微信开放平台填写一致</p>

<p>2）检查服务端生成签名的时候的参数是否与文档一致，尤其是大小写和顺序问题。</p>

<p>3）通过<a href="https://pay.weixin.qq.com/wiki/tools/signverify/">微信接口调试工具</a> 验证签名是否正确</p>

<h2 id="分享支付的时候跳转回app的时候闪退">分享、支付的时候跳转回app的时候闪退</h2>

<p>如果你的<code class="highlighter-rouge">cordova-android</code>版本是7.0以上,出现上述情况的时候，可以通过以下方法解决。</p>

<ol>
  <li>
    <p>升级<code class="highlighter-rouge">cordova-plugin-wechat</code>到2.6.0版本以上；</p>
  </li>
  <li>
    <p>删除插件和平台，重新添加和编译；</p>
  </li>
  <li>
    <p>检查项目目录下    <code class="highlighter-rouge">platforms/android/app/src/com/jasonz/demo</code> ,其中<code class="highlighter-rouge">com/jasonz/demo</code>为你的报名路径下 是否存在<code class="highlighter-rouge">wxapi</code>文件夹,并且是否该文件夹下是否存在<code class="highlighter-rouge">EntryActivity.java</code> , <code class="highlighter-rouge">WXEntryActivity.java</code> , <code class="highlighter-rouge">WXPayEntryActivity.java</code>这三个文件。如果没有这个目录和3个文件，新建一个<code class="highlighter-rouge">wxapi</code>目录，把<code class="highlighter-rouge">plugins/cordova-plugin-wechat/src/android </code>下的这3个文件拷贝到<code class="highlighter-rouge">wrapi</code>目录下，并且修改文件内容的第一行<code class="highlighter-rouge">package __PACKAGE_NAME__</code> 为你的报名，例如：<code class="highlighter-rouge">package com.jasonz.demo</code> 即可。</p>
  </li>
</ol>



          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
